/**************************************************************
* Tile CTAs
**************************************************************/

section.tile-ctas {

    /**
    * Header
    */
    header {

        .title {
            @extend %ts--12;
            color: $c--24;
            display: block;
            font-family: $ff--1;
            font-weight: $fw--semibold;
            margin-bottom: 30px;
        }

    }

    /**
    * Container
    */
    .grid {

        @media (--xls-up) {
            align-items: stretch;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }

    }

        /**
        * Tile
        */
        article.tile {
            background: $c--tone-6;
            box-shadow: 0 1px 0 0 #ADBAC1;
            display: flex;
            flex-direction: column;
            margin-bottom: 3px;
            position: relative;
            transition: all .25s ease;
            width: 100%;

            @media only screen and (min-width: 960px) and (max-width: 1024px), (min-width: 1400px) { flex-basis: calc(33.3333% - 2px); }

            @media only screen and (min-width: 574px) and (max-width: 960px), (min-width: 1024px) and (max-width: 1400px) { flex-basis: calc(50% - 2px); }

            @media (--xls-up) {
                box-shadow: none;
                display: inline-flex;
                flex-grow: 0;
                flex-shrink: 0;
                vertical-align: top;
            }

            /**
            * Toggle
            */
            header.toggle {
                @extend %ts--3;
                color: $c--24;
                display: block;
                font-family: $ff--1;
                font-weight: $fw--bold;
                letter-spacing: .10175em;
                min-height: 65px;
                padding: 23px 22px;
                position: relative;
                text-transform: uppercase;

        		/* Arrow */
        		&::after {
        			background: transparent url('/wbs2020/media/dist/img/tile-cta-accordion-arrow.svg') no-repeat center / 10px 15px;
        			content: "";
        			margin: auto 0;
        			position: absolute 0 20px 0 *;
        			size: 10px 15px;
        			transition: transform .5s ease;
        			transform-origin: center;
        			transform: rotate(90deg);
        		}

                @media (--xls-up) {
                    display: none;
                    min-height: 45px;
                    order: 1;
                    padding: 25px 22px 10px;

            		&::after { display: none; }

                }

            }

            /**
            * Inner (mobile accordion content)
            */
            main.inner {
                display: none;
                overflow: hidden;
                padding: 0 22px 45px;
                position: relative;
                z-index: 0;

                @media (--xls-up) {
                    display: block !important;
                    opacity: 1 !important;
                    padding: * 0;
                }

            }

            	/**
                * Image
                */
                figure.image {
                    display: block;
                    overflow: hidden;
                    padding-bottom: 54.55%;
                    position: relative;
                    size: 100% 0;
                    z-index: 0;

                    .src {
                        @extend %absolute-fill;
                        @extend %cover-bg;
                        display: block;
                        transform: none;
                        transition: all .2s ease-in-out;

                    }

                }

                /**
                * Text
                */
                .text {
                    padding-top: 25px;
                    position: relative;
                    z-index: 0;

                    @media (--xls-up) { padding: * 22px; }

                    /**
                    * Title
                    */
                    .title {
                        @extend %ts--3;
                        color: $c--24;
                        display: none;
                        font-family: $ff--1;
                        font-weight: $fw--bold;
                        letter-spacing: .10175em;
                        min-height: 45px;
                        position: relative;
                        text-transform: uppercase;

                        @media (--xxl-up) { min-height: 65px; }

                        @media (--xls-up) { display: block; }

                    }

                    /**
                    * Description
                    */
                    .description {
                        @extend %ts--8;
                        color: $c--5;
                        display: block;
                        font-family: $ff--3;
                        letter-spacing: -.18px;
                    }

                }

                /**
                * Permalink
                */
                a.permalink { @extend %absolute-anchor; }

            /**
            * Hover
            */
            &:hover {
                background-color: $c--tone-2;

                span.title { text-decoration: underline; }

                figure.image .src { transform: scale(1.1); }

            }

            /**
            * Open
            */
            &.open, &.open-init {

                /* Arrow */
                header.toggle::after { transform: rotate(-90deg); }

            }

            &.open-init main.inner { display: block; }

        }

    /***************
	* Lazy-loading
	***************/
	&.view-detect {
		opacity: 0;
		transition: all 1.2s ease-in-out-quart 0s;

		/**
		* Loaded
		*/
		&.viewed { opacity: 1; }

	}

}



/* END OF DOCUMENT */
